<div class="container-fluid">
<h1>Admin</h1>
<p>{{osVersion}}</p>

<table class="table table-striped table-sm">
<caption>Clients</caption>
<thead>
    <tr>
      <th scope="col">Hostname</th>
      <th scope="col">Release</th>
      <th scope="col">Node</th>
      <th scope="col">Hardware</th>
      <th scope="col">Location</th>
      <th scope="col">Date</th>
    </tr>
</thead>
<tbody>
{{#each PiStations}}
    <tr>
        <td>{{hostname}}</td>
        <td>{{release}}</td>
        <td>{{node}}</td>
        <td>{{piHardwareVersion}}</td>
        <td>{{location}}</td>
        <td>{{pingDate}}</td>
    </tr>
{{/each}}
</tbody>
</table>

<form id="admindata" action="/admincontrol" method="post">  
    <div class="form-group">
    <label for="ControlSelectDayOn">Day on</label>
    <select class="form-control" id="ControlSelectDayOn" name="ControlSelectDayOn">
      <option>4</option>
      <option>5</option>
      <option>6</option>
      <option>7</option>
      <option>8</option>
      <option>9</option>
      <option>10</option>
    </select>
  </div>
  <div class="form-group">
    <label for="ControlSelectDayOff">Day off</label>
    <select class="form-control" id="ControlSelectDayOff" name="ControlSelectDayOff">
      <option>21</option>
      <option>22</option>
      <option>23</option>
      <option>24</option>    
    </select>
  </div>
   <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="CheckResetStationList" name="CheckResetStationList">
  <label class="form-check-label" for="CheckResetStationList">
    Reset stations
  </label>
  </div><br>
  
  <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="CheckResetRuntime" name="CheckResetRuntime">
  <label class="form-check-label" for="CheckResetRuntime">
    Reset runtime
  </label>
  </div><br>
   <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="CheckReboot" name="CheckReboot">
  <label class="form-check-label" for="CheckReboot">
    Reboot the system
  </label>
  </div><br>
    <div class="form-check">
  <input class="form-check-input" type="checkbox" value="" id="UpgradePI" name="UpgradePI">
  <label class="form-check-label" for="UpgradePI">
    Upgrade the system
  </label>
  </div><br>
  <button type="submit" class="btn btn-primary">Submit</button>  
</form>
</div>	
{{#section 'jquery'}}
<script>
 $(document).ready(function() {
    
    $(':text:first').focus();
    $('#ControlSelectDayOn').val({{dayOn}});
    $('#ControlSelectDayOff').val({{dayOff}});
    
    $('form').submit(function(e) {
    	//e.preventDefault();
        var subButton = $(this).find(':submit')
        subButton.prop('disabled',true)
        $.post("admincontrol",$('#admindata').serialize());
        subButton.val('...sending')

       });
    $.each($('#navbarNav').find('li'), function() {
        $(this).toggleClass('active',
            '/' + $(this).find('a').attr('href') == window.location.pathname);
    }); 
  });
</script>
{{/section}}